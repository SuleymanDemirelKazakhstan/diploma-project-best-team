{"ast":null,"code":"import { extends as _extends, objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, createForOfIteratorHelperLoose as _createForOfIteratorHelperLoose } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React, { createContext, useCallback, useMemo, useEffect, useContext, useState, useRef, useReducer } from 'react';\nimport { match } from '../../utils/match.esm.js';\nimport { forwardRefWithAs, render, Features as Features$1 } from '../../utils/render.esm.js';\nimport { useSyncRefs } from '../../hooks/use-sync-refs.esm.js';\nimport { Keys } from '../keyboard.esm.js';\nimport { isDisabledReactIssue7711 } from '../../utils/bugs.esm.js';\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete.esm.js';\nimport { useId } from '../../hooks/use-id.esm.js';\nimport { useWindowEvent } from '../../hooks/use-window-event.esm.js';\nimport { useFocusTrap, Features } from '../../hooks/use-focus-trap.esm.js';\nimport { useInertOthers } from '../../hooks/use-inert-others.esm.js';\nimport { ForcePortalRoot } from '../../internal/portal-force-root.esm.js';\nimport { Portal } from '../portal/portal.esm.js';\nimport { Description, useDescriptions } from '../description/description.esm.js';\nimport { useOpenClosed, State } from '../../internal/open-closed.esm.js';\nimport { StackProvider, StackMessage } from '../../internal/stack-context.esm.js';\n\nvar _reducers;\n\nvar DialogStates;\n\n(function (DialogStates) {\n  DialogStates[DialogStates[\"Open\"] = 0] = \"Open\";\n  DialogStates[DialogStates[\"Closed\"] = 1] = \"Closed\";\n})(DialogStates || (DialogStates = {}));\n\nvar ActionTypes;\n\n(function (ActionTypes) {\n  ActionTypes[ActionTypes[\"SetTitleId\"] = 0] = \"SetTitleId\";\n})(ActionTypes || (ActionTypes = {}));\n\nvar reducers = (_reducers = {}, _reducers[ActionTypes.SetTitleId] = function (state, action) {\n  if (state.titleId === action.id) return state;\n  return _extends({}, state, {\n    titleId: action.id\n  });\n}, _reducers);\nvar DialogContext = /*#__PURE__*/createContext(null);\nDialogContext.displayName = 'DialogContext';\n\nfunction useDialogContext(component) {\n  var context = useContext(DialogContext);\n\n  if (context === null) {\n    var err = new Error(\"<\" + component + \" /> is missing a parent <\" + Dialog.displayName + \" /> component.\");\n    if (Error.captureStackTrace) Error.captureStackTrace(err, useDialogContext);\n    throw err;\n  }\n\n  return context;\n}\n\nfunction stateReducer(state, action) {\n  return match(action.type, reducers, state, action);\n} // ---\n\n\nvar DEFAULT_DIALOG_TAG = 'div';\nvar DialogRenderFeatures = Features$1.RenderStrategy | Features$1.Static;\nvar DialogRoot = /*#__PURE__*/forwardRefWithAs(function Dialog(props, ref) {\n  var open = props.open,\n      onClose = props.onClose,\n      initialFocus = props.initialFocus,\n      rest = _objectWithoutPropertiesLoose(props, [\"open\", \"onClose\", \"initialFocus\"]);\n\n  var _useState = useState(0),\n      nestedDialogCount = _useState[0],\n      setNestedDialogCount = _useState[1];\n\n  var usesOpenClosedState = useOpenClosed();\n\n  if (open === undefined && usesOpenClosedState !== null) {\n    var _match; // Update the `open` prop based on the open closed state\n\n\n    open = match(usesOpenClosedState, (_match = {}, _match[State.Open] = true, _match[State.Closed] = false, _match));\n  }\n\n  var containers = useRef(new Set());\n  var internalDialogRef = useRef(null);\n  var dialogRef = useSyncRefs(internalDialogRef, ref); // Validations\n\n  var hasOpen = props.hasOwnProperty('open') || usesOpenClosedState !== null;\n  var hasOnClose = props.hasOwnProperty('onClose');\n\n  if (!hasOpen && !hasOnClose) {\n    throw new Error(\"You have to provide an `open` and an `onClose` prop to the `Dialog` component.\");\n  }\n\n  if (!hasOpen) {\n    throw new Error(\"You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.\");\n  }\n\n  if (!hasOnClose) {\n    throw new Error(\"You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.\");\n  }\n\n  if (typeof open !== 'boolean') {\n    throw new Error(\"You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: \" + open);\n  }\n\n  if (typeof onClose !== 'function') {\n    throw new Error(\"You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: \" + onClose);\n  }\n\n  var dialogState = open ? DialogStates.Open : DialogStates.Closed;\n\n  var visible = function () {\n    if (usesOpenClosedState !== null) {\n      return usesOpenClosedState === State.Open;\n    }\n\n    return dialogState === DialogStates.Open;\n  }();\n\n  var _useReducer = useReducer(stateReducer, {\n    titleId: null,\n    descriptionId: null\n  }),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var close = useCallback(function () {\n    return onClose(false);\n  }, [onClose]);\n  var setTitleId = useCallback(function (id) {\n    return dispatch({\n      type: ActionTypes.SetTitleId,\n      id: id\n    });\n  }, [dispatch]);\n  var ready = useServerHandoffComplete();\n  var enabled = ready && dialogState === DialogStates.Open;\n  var hasNestedDialogs = nestedDialogCount > 1; // 1 is the current dialog\n\n  var hasParentDialog = useContext(DialogContext) !== null; // If there are multiple dialogs, then you can be the root, the leaf or one\n  // in between. We only care abou whether you are the top most one or not.\n\n  var position = !hasNestedDialogs ? 'leaf' : 'parent';\n  useFocusTrap(internalDialogRef, enabled ? match(position, {\n    parent: Features.RestoreFocus,\n    leaf: Features.All\n  }) : Features.None, {\n    initialFocus: initialFocus,\n    containers: containers\n  });\n  useInertOthers(internalDialogRef, hasNestedDialogs ? enabled : false); // Handle outside click\n\n  useWindowEvent('mousedown', function (event) {\n    var _internalDialogRef$cu;\n\n    var target = event.target;\n    if (dialogState !== DialogStates.Open) return;\n    if (hasNestedDialogs) return;\n    if ((_internalDialogRef$cu = internalDialogRef.current) == null ? void 0 : _internalDialogRef$cu.contains(target)) return;\n    close();\n  }); // Handle `Escape` to close\n\n  useWindowEvent('keydown', function (event) {\n    if (event.key !== Keys.Escape) return;\n    if (dialogState !== DialogStates.Open) return;\n    if (hasNestedDialogs) return;\n    event.preventDefault();\n    event.stopPropagation();\n    close();\n  }); // Scroll lock\n\n  useEffect(function () {\n    if (dialogState !== DialogStates.Open) return;\n    if (hasParentDialog) return;\n    var overflow = document.documentElement.style.overflow;\n    var paddingRight = document.documentElement.style.paddingRight;\n    var scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    document.documentElement.style.overflow = 'hidden';\n    document.documentElement.style.paddingRight = scrollbarWidth + \"px\";\n    return function () {\n      document.documentElement.style.overflow = overflow;\n      document.documentElement.style.paddingRight = paddingRight;\n    };\n  }, [dialogState, hasParentDialog]); // Trigger close when the FocusTrap gets hidden\n\n  useEffect(function () {\n    if (dialogState !== DialogStates.Open) return;\n    if (!internalDialogRef.current) return;\n    var observer = new IntersectionObserver(function (entries) {\n      for (var _iterator = _createForOfIteratorHelperLoose(entries), _step; !(_step = _iterator()).done;) {\n        var entry = _step.value;\n\n        if (entry.boundingClientRect.x === 0 && entry.boundingClientRect.y === 0 && entry.boundingClientRect.width === 0 && entry.boundingClientRect.height === 0) {\n          close();\n        }\n      }\n    });\n    observer.observe(internalDialogRef.current);\n    return function () {\n      return observer.disconnect();\n    };\n  }, [dialogState, internalDialogRef, close]);\n\n  var _useDescriptions = useDescriptions(),\n      describedby = _useDescriptions[0],\n      DescriptionProvider = _useDescriptions[1];\n\n  var id = \"headlessui-dialog-\" + useId();\n  var contextBag = useMemo(function () {\n    return [{\n      dialogState: dialogState,\n      close: close,\n      setTitleId: setTitleId\n    }, state];\n  }, [dialogState, state, close, setTitleId]);\n  var slot = useMemo(function () {\n    return {\n      open: dialogState === DialogStates.Open\n    };\n  }, [dialogState]);\n  var propsWeControl = {\n    ref: dialogRef,\n    id: id,\n    role: 'dialog',\n    'aria-modal': dialogState === DialogStates.Open ? true : undefined,\n    'aria-labelledby': state.titleId,\n    'aria-describedby': describedby,\n    onClick: function onClick(event) {\n      event.stopPropagation();\n    }\n  };\n  var passthroughProps = rest;\n  return React.createElement(StackProvider, {\n    type: \"Dialog\",\n    element: internalDialogRef,\n    onUpdate: useCallback(function (message, type, element) {\n      var _match2;\n\n      if (type !== 'Dialog') return;\n      match(message, (_match2 = {}, _match2[StackMessage.Add] = function () {\n        containers.current.add(element);\n        setNestedDialogCount(function (count) {\n          return count + 1;\n        });\n      }, _match2[StackMessage.Remove] = function () {\n        containers.current.add(element);\n        setNestedDialogCount(function (count) {\n          return count - 1;\n        });\n      }, _match2));\n    }, [])\n  }, React.createElement(ForcePortalRoot, {\n    force: true\n  }, React.createElement(Portal, null, React.createElement(DialogContext.Provider, {\n    value: contextBag\n  }, React.createElement(Portal.Group, {\n    target: internalDialogRef\n  }, React.createElement(ForcePortalRoot, {\n    force: false\n  }, React.createElement(DescriptionProvider, {\n    slot: slot,\n    name: \"Dialog.Description\"\n  }, render({\n    props: _extends({}, passthroughProps, propsWeControl),\n    slot: slot,\n    defaultTag: DEFAULT_DIALOG_TAG,\n    features: DialogRenderFeatures,\n    visible: visible,\n    name: 'Dialog'\n  }))))))));\n}); // ---\n\nvar DEFAULT_OVERLAY_TAG = 'div';\nvar Overlay = /*#__PURE__*/forwardRefWithAs(function Overlay(props, ref) {\n  var _useDialogContext = useDialogContext([Dialog.displayName, Overlay.name].join('.')),\n      _useDialogContext$ = _useDialogContext[0],\n      dialogState = _useDialogContext$.dialogState,\n      close = _useDialogContext$.close;\n\n  var overlayRef = useSyncRefs(ref);\n  var id = \"headlessui-dialog-overlay-\" + useId();\n  var handleClick = useCallback(function (event) {\n    if (event.target !== event.currentTarget) return;\n    if (isDisabledReactIssue7711(event.currentTarget)) return event.preventDefault();\n    event.preventDefault();\n    event.stopPropagation();\n    close();\n  }, [close]);\n  var slot = useMemo(function () {\n    return {\n      open: dialogState === DialogStates.Open\n    };\n  }, [dialogState]);\n  var propsWeControl = {\n    ref: overlayRef,\n    id: id,\n    'aria-hidden': true,\n    onClick: handleClick\n  };\n  var passthroughProps = props;\n  return render({\n    props: _extends({}, passthroughProps, propsWeControl),\n    slot: slot,\n    defaultTag: DEFAULT_OVERLAY_TAG,\n    name: 'Dialog.Overlay'\n  });\n}); // ---\n\nvar DEFAULT_TITLE_TAG = 'h2';\n\nfunction Title(props) {\n  var _useDialogContext2 = useDialogContext([Dialog.displayName, Title.name].join('.')),\n      _useDialogContext2$ = _useDialogContext2[0],\n      dialogState = _useDialogContext2$.dialogState,\n      setTitleId = _useDialogContext2$.setTitleId;\n\n  var id = \"headlessui-dialog-title-\" + useId();\n  useEffect(function () {\n    setTitleId(id);\n    return function () {\n      return setTitleId(null);\n    };\n  }, [id, setTitleId]);\n  var slot = useMemo(function () {\n    return {\n      open: dialogState === DialogStates.Open\n    };\n  }, [dialogState]);\n  var propsWeControl = {\n    id: id\n  };\n  var passthroughProps = props;\n  return render({\n    props: _extends({}, passthroughProps, propsWeControl),\n    slot: slot,\n    defaultTag: DEFAULT_TITLE_TAG,\n    name: 'Dialog.Title'\n  });\n} // ---\n\n\nvar Dialog = /*#__PURE__*/Object.assign(DialogRoot, {\n  Overlay: Overlay,\n  Title: Title,\n  Description: Description\n});\nexport { Dialog };","map":{"version":3,"mappings":"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","names":["extends","_extends","objectWithoutPropertiesLoose","_objectWithoutPropertiesLoose","createForOfIteratorHelperLoose","_createForOfIteratorHelperLoose","React","createContext","useCallback","useMemo","useEffect","useContext","useState","useRef","useReducer","match","forwardRefWithAs","render","Features","Features$1","useSyncRefs","Keys","isDisabledReactIssue7711","useServerHandoffComplete","useId","useWindowEvent","useFocusTrap","useInertOthers","ForcePortalRoot","Portal","Description","useDescriptions","useOpenClosed","State","StackProvider","StackMessage","_reducers","DialogStates","ActionTypes","reducers","SetTitleId","state","action","titleId","id","DialogContext","displayName","useDialogContext","component","context","err","Error","Dialog","captureStackTrace","stateReducer","type","DEFAULT_DIALOG_TAG","DialogRenderFeatures","RenderStrategy","Static","DialogRoot","props","ref","open","onClose","initialFocus","rest","_useState","nestedDialogCount","setNestedDialogCount","usesOpenClosedState","undefined","_match","Open","Closed","containers","Set","internalDialogRef","dialogRef","hasOpen","hasOwnProperty","hasOnClose","dialogState","visible","_useReducer","descriptionId","dispatch","close","setTitleId","ready","enabled","hasNestedDialogs","hasParentDialog","position","parent","RestoreFocus","leaf","All","None","event","_internalDialogRef$cu","target","current","contains","key","Escape","preventDefault","stopPropagation","overflow","document","documentElement","style","paddingRight","scrollbarWidth","window","innerWidth","clientWidth","observer","IntersectionObserver","entries","_iterator","_step","done","entry","value","boundingClientRect","x","y","width","height","observe","disconnect","_useDescriptions","describedby","DescriptionProvider","contextBag","slot","propsWeControl","role","onClick","passthroughProps","createElement","element","onUpdate","message","_match2","Add","add","count","Remove","force","Provider","Group","name","defaultTag","features","DEFAULT_OVERLAY_TAG","Overlay","_useDialogContext","join","_useDialogContext$","overlayRef","handleClick","currentTarget","DEFAULT_TITLE_TAG","Title","_useDialogContext2","_useDialogContext2$","Object","assign"],"sources":["C:/Users/Joka24/Desktop/diplom/node_modules/@headlessui/react/dist/components/dialog/dialog.esm.js"],"sourcesContent":["import { extends as _extends, objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, createForOfIteratorHelperLoose as _createForOfIteratorHelperLoose } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport React, { createContext, useCallback, useMemo, useEffect, useContext, useState, useRef, useReducer } from 'react';\nimport { match } from '../../utils/match.esm.js';\nimport { forwardRefWithAs, render, Features as Features$1 } from '../../utils/render.esm.js';\nimport { useSyncRefs } from '../../hooks/use-sync-refs.esm.js';\nimport { Keys } from '../keyboard.esm.js';\nimport { isDisabledReactIssue7711 } from '../../utils/bugs.esm.js';\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete.esm.js';\nimport { useId } from '../../hooks/use-id.esm.js';\nimport { useWindowEvent } from '../../hooks/use-window-event.esm.js';\nimport { useFocusTrap, Features } from '../../hooks/use-focus-trap.esm.js';\nimport { useInertOthers } from '../../hooks/use-inert-others.esm.js';\nimport { ForcePortalRoot } from '../../internal/portal-force-root.esm.js';\nimport { Portal } from '../portal/portal.esm.js';\nimport { Description, useDescriptions } from '../description/description.esm.js';\nimport { useOpenClosed, State } from '../../internal/open-closed.esm.js';\nimport { StackProvider, StackMessage } from '../../internal/stack-context.esm.js';\n\nvar _reducers;\nvar DialogStates;\n\n(function (DialogStates) {\n  DialogStates[DialogStates[\"Open\"] = 0] = \"Open\";\n  DialogStates[DialogStates[\"Closed\"] = 1] = \"Closed\";\n})(DialogStates || (DialogStates = {}));\n\nvar ActionTypes;\n\n(function (ActionTypes) {\n  ActionTypes[ActionTypes[\"SetTitleId\"] = 0] = \"SetTitleId\";\n})(ActionTypes || (ActionTypes = {}));\n\nvar reducers = (_reducers = {}, _reducers[ActionTypes.SetTitleId] = function (state, action) {\n  if (state.titleId === action.id) return state;\n  return _extends({}, state, {\n    titleId: action.id\n  });\n}, _reducers);\nvar DialogContext = /*#__PURE__*/createContext(null);\nDialogContext.displayName = 'DialogContext';\n\nfunction useDialogContext(component) {\n  var context = useContext(DialogContext);\n\n  if (context === null) {\n    var err = new Error(\"<\" + component + \" /> is missing a parent <\" + Dialog.displayName + \" /> component.\");\n    if (Error.captureStackTrace) Error.captureStackTrace(err, useDialogContext);\n    throw err;\n  }\n\n  return context;\n}\n\nfunction stateReducer(state, action) {\n  return match(action.type, reducers, state, action);\n} // ---\n\n\nvar DEFAULT_DIALOG_TAG = 'div';\nvar DialogRenderFeatures = Features$1.RenderStrategy | Features$1.Static;\nvar DialogRoot = /*#__PURE__*/forwardRefWithAs(function Dialog(props, ref) {\n  var open = props.open,\n      onClose = props.onClose,\n      initialFocus = props.initialFocus,\n      rest = _objectWithoutPropertiesLoose(props, [\"open\", \"onClose\", \"initialFocus\"]);\n\n  var _useState = useState(0),\n      nestedDialogCount = _useState[0],\n      setNestedDialogCount = _useState[1];\n\n  var usesOpenClosedState = useOpenClosed();\n\n  if (open === undefined && usesOpenClosedState !== null) {\n    var _match;\n\n    // Update the `open` prop based on the open closed state\n    open = match(usesOpenClosedState, (_match = {}, _match[State.Open] = true, _match[State.Closed] = false, _match));\n  }\n\n  var containers = useRef(new Set());\n  var internalDialogRef = useRef(null);\n  var dialogRef = useSyncRefs(internalDialogRef, ref); // Validations\n\n  var hasOpen = props.hasOwnProperty('open') || usesOpenClosedState !== null;\n  var hasOnClose = props.hasOwnProperty('onClose');\n\n  if (!hasOpen && !hasOnClose) {\n    throw new Error(\"You have to provide an `open` and an `onClose` prop to the `Dialog` component.\");\n  }\n\n  if (!hasOpen) {\n    throw new Error(\"You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.\");\n  }\n\n  if (!hasOnClose) {\n    throw new Error(\"You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.\");\n  }\n\n  if (typeof open !== 'boolean') {\n    throw new Error(\"You provided an `open` prop to the `Dialog`, but the value is not a boolean. Received: \" + open);\n  }\n\n  if (typeof onClose !== 'function') {\n    throw new Error(\"You provided an `onClose` prop to the `Dialog`, but the value is not a function. Received: \" + onClose);\n  }\n\n  var dialogState = open ? DialogStates.Open : DialogStates.Closed;\n\n  var visible = function () {\n    if (usesOpenClosedState !== null) {\n      return usesOpenClosedState === State.Open;\n    }\n\n    return dialogState === DialogStates.Open;\n  }();\n\n  var _useReducer = useReducer(stateReducer, {\n    titleId: null,\n    descriptionId: null\n  }),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  var close = useCallback(function () {\n    return onClose(false);\n  }, [onClose]);\n  var setTitleId = useCallback(function (id) {\n    return dispatch({\n      type: ActionTypes.SetTitleId,\n      id: id\n    });\n  }, [dispatch]);\n  var ready = useServerHandoffComplete();\n  var enabled = ready && dialogState === DialogStates.Open;\n  var hasNestedDialogs = nestedDialogCount > 1; // 1 is the current dialog\n\n  var hasParentDialog = useContext(DialogContext) !== null; // If there are multiple dialogs, then you can be the root, the leaf or one\n  // in between. We only care abou whether you are the top most one or not.\n\n  var position = !hasNestedDialogs ? 'leaf' : 'parent';\n  useFocusTrap(internalDialogRef, enabled ? match(position, {\n    parent: Features.RestoreFocus,\n    leaf: Features.All\n  }) : Features.None, {\n    initialFocus: initialFocus,\n    containers: containers\n  });\n  useInertOthers(internalDialogRef, hasNestedDialogs ? enabled : false); // Handle outside click\n\n  useWindowEvent('mousedown', function (event) {\n    var _internalDialogRef$cu;\n\n    var target = event.target;\n    if (dialogState !== DialogStates.Open) return;\n    if (hasNestedDialogs) return;\n    if ((_internalDialogRef$cu = internalDialogRef.current) == null ? void 0 : _internalDialogRef$cu.contains(target)) return;\n    close();\n  }); // Handle `Escape` to close\n\n  useWindowEvent('keydown', function (event) {\n    if (event.key !== Keys.Escape) return;\n    if (dialogState !== DialogStates.Open) return;\n    if (hasNestedDialogs) return;\n    event.preventDefault();\n    event.stopPropagation();\n    close();\n  }); // Scroll lock\n\n  useEffect(function () {\n    if (dialogState !== DialogStates.Open) return;\n    if (hasParentDialog) return;\n    var overflow = document.documentElement.style.overflow;\n    var paddingRight = document.documentElement.style.paddingRight;\n    var scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\n    document.documentElement.style.overflow = 'hidden';\n    document.documentElement.style.paddingRight = scrollbarWidth + \"px\";\n    return function () {\n      document.documentElement.style.overflow = overflow;\n      document.documentElement.style.paddingRight = paddingRight;\n    };\n  }, [dialogState, hasParentDialog]); // Trigger close when the FocusTrap gets hidden\n\n  useEffect(function () {\n    if (dialogState !== DialogStates.Open) return;\n    if (!internalDialogRef.current) return;\n    var observer = new IntersectionObserver(function (entries) {\n      for (var _iterator = _createForOfIteratorHelperLoose(entries), _step; !(_step = _iterator()).done;) {\n        var entry = _step.value;\n\n        if (entry.boundingClientRect.x === 0 && entry.boundingClientRect.y === 0 && entry.boundingClientRect.width === 0 && entry.boundingClientRect.height === 0) {\n          close();\n        }\n      }\n    });\n    observer.observe(internalDialogRef.current);\n    return function () {\n      return observer.disconnect();\n    };\n  }, [dialogState, internalDialogRef, close]);\n\n  var _useDescriptions = useDescriptions(),\n      describedby = _useDescriptions[0],\n      DescriptionProvider = _useDescriptions[1];\n\n  var id = \"headlessui-dialog-\" + useId();\n  var contextBag = useMemo(function () {\n    return [{\n      dialogState: dialogState,\n      close: close,\n      setTitleId: setTitleId\n    }, state];\n  }, [dialogState, state, close, setTitleId]);\n  var slot = useMemo(function () {\n    return {\n      open: dialogState === DialogStates.Open\n    };\n  }, [dialogState]);\n  var propsWeControl = {\n    ref: dialogRef,\n    id: id,\n    role: 'dialog',\n    'aria-modal': dialogState === DialogStates.Open ? true : undefined,\n    'aria-labelledby': state.titleId,\n    'aria-describedby': describedby,\n    onClick: function onClick(event) {\n      event.stopPropagation();\n    }\n  };\n  var passthroughProps = rest;\n  return React.createElement(StackProvider, {\n    type: \"Dialog\",\n    element: internalDialogRef,\n    onUpdate: useCallback(function (message, type, element) {\n      var _match2;\n\n      if (type !== 'Dialog') return;\n      match(message, (_match2 = {}, _match2[StackMessage.Add] = function () {\n        containers.current.add(element);\n        setNestedDialogCount(function (count) {\n          return count + 1;\n        });\n      }, _match2[StackMessage.Remove] = function () {\n        containers.current.add(element);\n        setNestedDialogCount(function (count) {\n          return count - 1;\n        });\n      }, _match2));\n    }, [])\n  }, React.createElement(ForcePortalRoot, {\n    force: true\n  }, React.createElement(Portal, null, React.createElement(DialogContext.Provider, {\n    value: contextBag\n  }, React.createElement(Portal.Group, {\n    target: internalDialogRef\n  }, React.createElement(ForcePortalRoot, {\n    force: false\n  }, React.createElement(DescriptionProvider, {\n    slot: slot,\n    name: \"Dialog.Description\"\n  }, render({\n    props: _extends({}, passthroughProps, propsWeControl),\n    slot: slot,\n    defaultTag: DEFAULT_DIALOG_TAG,\n    features: DialogRenderFeatures,\n    visible: visible,\n    name: 'Dialog'\n  }))))))));\n}); // ---\n\nvar DEFAULT_OVERLAY_TAG = 'div';\nvar Overlay = /*#__PURE__*/forwardRefWithAs(function Overlay(props, ref) {\n  var _useDialogContext = useDialogContext([Dialog.displayName, Overlay.name].join('.')),\n      _useDialogContext$ = _useDialogContext[0],\n      dialogState = _useDialogContext$.dialogState,\n      close = _useDialogContext$.close;\n\n  var overlayRef = useSyncRefs(ref);\n  var id = \"headlessui-dialog-overlay-\" + useId();\n  var handleClick = useCallback(function (event) {\n    if (event.target !== event.currentTarget) return;\n    if (isDisabledReactIssue7711(event.currentTarget)) return event.preventDefault();\n    event.preventDefault();\n    event.stopPropagation();\n    close();\n  }, [close]);\n  var slot = useMemo(function () {\n    return {\n      open: dialogState === DialogStates.Open\n    };\n  }, [dialogState]);\n  var propsWeControl = {\n    ref: overlayRef,\n    id: id,\n    'aria-hidden': true,\n    onClick: handleClick\n  };\n  var passthroughProps = props;\n  return render({\n    props: _extends({}, passthroughProps, propsWeControl),\n    slot: slot,\n    defaultTag: DEFAULT_OVERLAY_TAG,\n    name: 'Dialog.Overlay'\n  });\n}); // ---\n\nvar DEFAULT_TITLE_TAG = 'h2';\n\nfunction Title(props) {\n  var _useDialogContext2 = useDialogContext([Dialog.displayName, Title.name].join('.')),\n      _useDialogContext2$ = _useDialogContext2[0],\n      dialogState = _useDialogContext2$.dialogState,\n      setTitleId = _useDialogContext2$.setTitleId;\n\n  var id = \"headlessui-dialog-title-\" + useId();\n  useEffect(function () {\n    setTitleId(id);\n    return function () {\n      return setTitleId(null);\n    };\n  }, [id, setTitleId]);\n  var slot = useMemo(function () {\n    return {\n      open: dialogState === DialogStates.Open\n    };\n  }, [dialogState]);\n  var propsWeControl = {\n    id: id\n  };\n  var passthroughProps = props;\n  return render({\n    props: _extends({}, passthroughProps, propsWeControl),\n    slot: slot,\n    defaultTag: DEFAULT_TITLE_TAG,\n    name: 'Dialog.Title'\n  });\n} // ---\n\n\nvar Dialog = /*#__PURE__*/Object.assign(DialogRoot, {\n  Overlay: Overlay,\n  Title: Title,\n  Description: Description\n});\n\nexport { Dialog };\n"]},"metadata":{},"sourceType":"module"}